function getParameterByName(e,r){r||(r=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=t.exec(r);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}!function(){"use strict";angular.module("app",["ngRoute","ui.bootstrap","vcRecaptcha","ngPasswordStrength"]).filter("unsafe",["$sce",function(e){return e.trustAsHtml}])}(),function(){"use strict";function e(){var e=angular.injector(["ng"]),r=e.get("$http");return r.get("api/password").then(function(e){if(t.constant("ViewOptions",e.data),e.data.Recaptcha.IsEnabled===!0){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.defer=!0,r.src="https://www.google.com/recaptcha/api.js?onload=vcRecaptchaApiLoaded&render=explicit&hl="+e.data.Recaptcha.LanguageCode;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a)}},function(e){})}function r(){angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}var t=angular.module("app");e().then(r)}(),function(){"use strict";angular.module("app").config(["$routeProvider","$locationProvider","ViewOptions",function(e,r,t){e.when("/",{templateUrl:"views/change-password.html",title:t.ChangePasswordTitle}).otherwise({redirectTo:"/"}),r.html5Mode(!0)}])}(),function(){"use strict";var e=getParameterByName("user");angular.module("app").controller("TitleCtrl",["$scope","$route","$location","$routeParams","ViewOptions",function(e,r,t,a,o){var n=this;n.content=o.ApplicationTitle,e.$on("$routeChangeSuccess",function(){n.content=r.current.title+" - "+o.ApplicationTitle})}]).controller("ChangePasswordCtrl",["$scope","$http","$sce","vcRecaptchaService","ViewOptions",function(r,t,a,o,n){r.ViewOptions=n,r.ShowSuccessAlert=!1,r.ShowErrorAlert=!1,r.ErrorAlertMessage="",r.FormData={Username:e,CurrentPassword:"",NewPassword:"",NewPasswordVerify:"",Recaptcha:""},r.EmptyFormData=angular.copy(r.FormData),r.SetRecaptchaResponse=function(e){r.FormData.Recaptcha=e},r.ClearRecaptchaResponse=function(){r.FormData.Recaptcha=""},r.Submit=function(){$("div.form-overlay").show(),$.each(r.Form,function(e,r){r&&void 0!=r.$valid&&(r.Validation={HasError:!1,ErrorMessage:""})}),r.Form.$setUntouched(),r.ShowSuccessAlert=!1,r.ShowErrorAlert=!1,r.ErrorAlertMessage="",t({method:"POST",url:"api/password",data:r.FormData,headers:{"Content-Type":"application/json"}}).then(function(e){$("div.form-overlay").hide(),r.FormData=angular.copy(r.EmptyFormData),r.ShowSuccessAlert=!0},function(e){$("div.form-overlay").hide(),n.Recaptcha.IsEnabled===!0&&grecaptcha.reset(),$.each(e.data.Errors,function(e,t){1==t.ErrorType?(r.ShowErrorAlert=!0,0==t.ErrorCode?r.ErrorAlertMessage=n.Alerts.ErrorAlertBody+t.Message:r.ErrorAlertMessage=n.Alerts.ErrorAlertBody+r.ViewOptions.ErrorMessages[t.ErrorCode]):2==t.ErrorType&&(r.Form[t.FieldName].Validation.HasError=!0,r.Form[t.FieldName].Validation.ErrorMessage=r.ViewOptions.ErrorMessages[t.ErrorCode])})})}}])}();